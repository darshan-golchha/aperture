<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aperture - Patient Feedback Platform</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 30%, #90caf9 100%);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 0;
            overflow-x: hidden;
        }

        /* Landing Page Styles */
        .landing-page {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            position: relative;
        }

        .landing-header {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding: 25px 40px;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .landing-logo-container {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .landing-logo {
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.25);
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: #1565c0;
        }

        .landing-title {
            font-size: 32px;
            font-weight: 700;
            color: #1565c0;
        }

        .landing-subtitle {
            font-size: 16px;
            color: #1976d2;
            margin-top: 4px;
        }

        .landing-main {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 80px 40px;
            position: relative;
        }

        .landing-content {
            text-align: center;
            max-width: 800px;
            position: relative;
            z-index: 2;
        }

        .landing-avatar {
            width: 200px;
            height: 200px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.9);
            border: 6px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 20px 60px rgba(21, 101, 192, 0.2);
            margin: 0 auto 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
            animation: avatarPulse 3s ease-in-out infinite;
        }

        .landing-avatar::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(21, 101, 192, 0.1), rgba(25, 118, 210, 0.1));
            border-radius: 50%;
        }

        .avatar-icon {
            height: 100%;
            font-size: 80px;
            color: #1565c0;
            z-index: 1;
        }

        .landing-welcome {
            font-size: 48px;
            font-weight: 700;
            color: #1a237e;
            margin-bottom: 20px;
            line-height: 1.2;
        }

        .landing-description {
            font-size: 20px;
            color: #1565c0;
            margin-bottom: 15px;
            line-height: 1.5;
        }

        .landing-subdescription {
            font-size: 16px;
            color: #1976d2;
            margin-bottom: 50px;
            opacity: 0.8;
            line-height: 1.6;
        }

        .begin-survey-btn {
            background: linear-gradient(135deg, #2e7d32, #4caf50, #66bb6a);
            border: none;
            border-radius: 30px;
            padding: 18px 40px;
            font-size: 20px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            box-shadow: 0 8px 30px rgba(46, 125, 50, 0.3);
            position: relative;
            overflow: hidden;
            min-width: 200px;
        }

        .begin-survey-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 40px rgba(46, 125, 50, 0.4);
            background: linear-gradient(135deg, #388e3c, #4caf50, #66bb6a);
        }

        .begin-survey-btn:active {
            transform: translateY(-1px) scale(1.02);
        }

        .begin-survey-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            transition: left 0.5s;
        }

        .begin-survey-btn:hover::before {
            left: 100%;
        }

        .floating-elements {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .floating-element {
            position: absolute;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .floating-element:nth-child(1) {
            width: 80px;
            height: 80px;
            top: 20%;
            left: 10%;
            animation: float 6s ease-in-out infinite;
        }

        .floating-element:nth-child(2) {
            width: 60px;
            height: 60px;
            top: 60%;
            right: 15%;
            animation: float 8s ease-in-out infinite reverse;
        }

        .floating-element:nth-child(3) {
            width: 100px;
            height: 100px;
            top: 30%;
            right: 20%;
            animation: float 7s ease-in-out infinite;
        }

        @keyframes avatarPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 20px 60px rgba(21, 101, 192, 0.2); }
            50% { transform: scale(1.05); box-shadow: 0 25px 70px rgba(21, 101, 192, 0.3); }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }

        /* Survey Page Styles */
        .survey-page {
            display: none;
            flex-direction: column;
            min-height: 100vh;
        }

        .header {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.3);
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: rgba(255, 255, 255, 0.25);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            color: #1565c0;
        }

        .title {
            font-size: 24px;
            font-weight: 700;
            color: #1565c0;
        }

        .subtitle {
            font-size: 14px;
            color: #1976d2;
            margin-top: 2px;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 20px;
            color: #1565c0;
        }

        .progress-container {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            padding: 8px;
            width: 280px;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.4);
            position: relative;
        }

        .progress-track {
            background: rgba(255, 255, 255, 0.3);
            height: 12px;
            border-radius: 20px;
            position: relative;
            overflow: hidden;
        }

        .progress-bar {
            background: linear-gradient(90deg, #2e7d32, #4caf50, #66bb6a);
            height: 100%;
            border-radius: 20px;
            width: 42%;
            transition: width 0.8s cubic-bezier(0.25, 1, 0.5, 1);
            box-shadow: 0 0 15px rgba(46, 125, 50, 0.4);
            position: relative;
        }

        .progress-text {
            font-size: 14px;
            font-weight: 600;
            color: #1565c0;
            margin-bottom: 4px;
        }

        .main-content {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 50px 40px 40px;
            position: relative;
        }

        .carousel-container {
            position: relative;
            width: 100%;
            max-width: 1400px;
            height: 550px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .carousel-track {
            position: relative;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: transform 0.6s cubic-bezier(0.25, 1, 0.5, 1);
        }

        .survey-card {
            position: absolute;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 12px;
            box-shadow: 0 25px 50px rgba(21, 101, 192, 0.1);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            transition: all 0.7s cubic-bezier(0.25, 1, 0.5, 1);
            transform-style: preserve-3d;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .survey-card.current {
            width: 700px;
            height: fit-content;
            padding: 30px 50px;
            transform: translateX(0) scale(1);
            opacity: 1;
            z-index: 3;
            box-shadow: 0 30px 60px rgba(21, 101, 192, 0.15);
            cursor: default;
        }

        .survey-card.prev,
        .survey-card.next {
            width: 500px;
            height: 350px;
            padding: 40px 30px;
            opacity: 0.6;
            z-index: 2;
            cursor: pointer;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(25px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 15px 35px rgba(21, 101, 192, 0.08);
        }

        .survey-card.prev {
            transform: translateX(-320px) scale(0.85);
        }

        .survey-card.next {
            transform: translateX(320px) scale(0.85);
        }

        .survey-card.prev:hover,
        .survey-card.next:hover {
            opacity: 0.8;
            background: rgba(255, 255, 255, 0.25);
            transform: translateX(-320px) scale(0.9);
            box-shadow: 0 20px 40px rgba(21, 101, 192, 0.12);
        }

        .survey-card.next:hover {
            transform: translateX(320px) scale(0.9);
        }

        .survey-card.far-prev,
        .survey-card.far-next {
            opacity: 0;
            pointer-events: none;
        }

        /* Placeholder card styles */
        .placeholder-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
            text-align: center;
        }

        .placeholder-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 32px;
            color: rgba(21, 101, 192, 0.4);
            margin-bottom: 20px;
            animation: pulse 2s infinite;
        }

        .placeholder-text {
            font-size: 18px;
            font-weight: 500;
            color: rgba(21, 101, 192, 0.3);
            margin-bottom: 8px;
        }

        .placeholder-subtext {
            font-size: 14px;
            color: rgba(21, 101, 192, 0.25);
            opacity: 0.8;
        }

        .placeholder-bars {
            display: flex;
            flex-direction: column;
            gap: 12px;
            width: 80%;
            margin-top: 25px;
        }

        .placeholder-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 10px;
            backdrop-filter: blur(5px);
            animation: shimmer 2s infinite;
        }

        .placeholder-bar:nth-child(1) { width: 100%; animation-delay: 0s; }
        .placeholder-bar:nth-child(2) { width: 75%; animation-delay: 0.3s; }
        .placeholder-bar:nth-child(3) { width: 90%; animation-delay: 0.6s; }
        .placeholder-bar:nth-child(4) { width: 60%; animation-delay: 0.9s; }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.6; }
            50% { transform: scale(1.05); opacity: 0.8; }
        }

        @keyframes shimmer {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.6; }
        }

        .question-number {
            display: inline-block;
            background: linear-gradient(135deg, #1565c0, #1976d2);
            color: white;
            padding: 10px 18px;
            border-radius: 20px;
            font-size: 15px;
            font-weight: 600;
            margin-bottom: 30px;
            width: fit-content;
        }

        .question-text {
            font-size: 32px;
            font-weight: 600;
            color: #1a237e;
            margin-bottom: 40px;
            line-height: 1.3;
        }

        .options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 18px;
            margin-bottom: 30px;
        }

        .options-container.single-column {
            grid-template-columns: 1fr;
        }

        .option {
            background: #f8f9fa;
            border: 2px solid #e1f5fe;
            border-radius: 18px;
            padding: 20px 22px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 17px;
            font-weight: 500;
            color: #1565c0;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            text-align: left;
        }

        .option:hover {
            background: #e3f2fd;
            border-color: #1976d2;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(21, 101, 192, 0.15);
        }

        .option.selected {
            background: linear-gradient(135deg, #2e7d32, #4caf50);
            border-color: #2e7d32;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(46, 125, 50, 0.3);
        }

        .option-icon {
            display: inline-block;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            border: 2px solid #90caf9;
            margin-right: 14px;
            position: relative;
            transition: all 0.3s ease;
            flex-shrink: 0;
        }

        .option.selected .option-icon {
            background: white;
            border-color: white;
        }

        .option.selected .option-icon::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #2e7d32;
            font-size: 13px;
            font-weight: bold;
        }

        /* Navigation Controls */
        .survey-navigation {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            z-index: 10;
        }

        .nav-buttons {
            display: flex;
            gap: 20px;
            align-items: center;
        }

        .nav-btn {
            background: linear-gradient(135deg, #1565c0, #1976d2);
            border: none;
            border-radius: 25px;
            padding: 12px 24px;
            font-size: 15px;
            font-weight: 600;
            color: white;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
            box-shadow: 0 4px 15px rgba(21, 101, 192, 0.2);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.1);
            display: flex;
            align-items: center;
            gap: 8px;
            min-width: 120px;
            justify-content: center;
        }

        .nav-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(21, 101, 192, 0.3);
            background: linear-gradient(135deg, #1976d2, #2196f3);
        }

        .nav-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            transform: none;
            box-shadow: 0 2px 8px rgba(21, 101, 192, 0.1);
        }

        .nav-btn.submit-btn {
            background: linear-gradient(135deg, #2e7d32, #4caf50);
            box-shadow: 0 4px 15px rgba(46, 125, 50, 0.2);
        }

        .nav-btn.submit-btn:hover {
            background: linear-gradient(135deg, #388e3c, #66bb6a);
            box-shadow: 0 8px 25px rgba(46, 125, 50, 0.3);
        }

        .completion-indicator {
            display: flex;
            gap: 12px;
            align-items: center;
            background: rgba(255, 255, 255, 0.2);
            padding: 12px 20px;
            border-radius: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        .indicator-dot {
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.4);
            transition: all 0.4s cubic-bezier(0.25, 1, 0.5, 1);
            cursor: pointer;
            position: relative;
            border: 2px solid rgba(21, 101, 192, 0.3);
        }

        .indicator-dot.active {
            background: linear-gradient(135deg, #1565c0, #1976d2);
            transform: scale(1.4);
            box-shadow: 0 0 15px rgba(21, 101, 192, 0.4);
            border-color: #1565c0;
        }

        .indicator-dot.completed {
            background: linear-gradient(135deg, #2e7d32, #4caf50);
            transform: scale(1.2);
            box-shadow: 0 0 10px rgba(46, 125, 50, 0.3);
            border-color: #2e7d32;
        }

        .indicator-dot.completed::after {
            content: '✓';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            font-size: 10px;
            font-weight: bold;
        }

        .indicator-dot:hover:not(.active):not(.completed) {
            transform: scale(1.3);
            background: rgba(255, 255, 255, 0.6);
            border-color: #1976d2;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .survey-card {
            animation: slideIn 0.7s ease;
        }

        /* Navigation hint */
        .nav-hint {
            position: absolute;
            bottom: 160px;
            left: 50%;
            transform: translateX(-50%);
            color: #1565c0;
            font-size: 14px;
            font-weight: 500;
            opacity: 0.7;
            text-align: center;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .survey-card.current {
                width: 600px;
                padding: 40px 30px;
            }
            
            .survey-card.prev,
            .survey-card.next {
                width: 450px;
                height: 320px;
                padding: 35px 25px;
            }
            
            .question-text {
                font-size: 28px;
            }
            
            .options-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .landing-welcome {
                font-size: 36px;
            }

            .landing-description {
                font-size: 18px;
            }

            .landing-avatar {
                width: 150px;
                height: 150px;
            }

            .avatar-icon {
                font-size: 60px;
            }

            .header {
                padding: 15px 20px;
                flex-direction: column;
                gap: 15px;
            }
            
            .survey-card.current {
                width: 450px;
                padding: 30px 20px;
            }
            
            .survey-card.prev,
            .survey-card.next {
                transform: translateX(-250px) scale(0.7);
            }
            
            .survey-card.next {
                transform: translateX(250px) scale(0.7);
            }
            
            .main-content {
                padding: 40px 20px 30px;
            }
            
            .progress-container {
                width: 240px;
            }

            .nav-buttons {
                flex-direction: column;
                gap: 15px;
            }

            .nav-btn {
                width: 200px;
            }
        }
    </style>
</head>
<body>
    <!-- Landing Page -->
    <div id="landingPage" class="landing-page">
        <div class="landing-header">
            <div class="landing-logo-container">
                <div class="landing-logo">🏥</div>
                <div>
                    <div class="landing-title">Aperture</div>
                    <div class="landing-subtitle">Patient Feedback Platform</div>
                </div>
            </div>
        </div>

        <div class="landing-main">
            <div class="floating-elements">
                <div class="floating-element"></div>
                <div class="floating-element"></div>
                <div class="floating-element"></div>
            </div>

            <div class="landing-content">
                <div class="landing-avatar">
                    <div class="avatar-icon">
                        <img src="https://raw.githubusercontent.com/darshan-golchha/anajbz-images/refs/heads/main/portrait-3d-female-doctor_23-2151107332.jpeg" alt="User Icon" style="height: 100%;">
                    </div>
                </div>
                
                <h1 class="landing-welcome">Welcome to Your Health Journey</h1>
                <p class="landing-description">Your voice matters in improving our healthcare services</p>
                <p class="landing-subdescription">
                    Take a few minutes to share your experience and help us provide better care for everyone. 
                    Your feedback is completely confidential and helps us understand what we're doing well and where we can improve.
                </p>
                
                <button class="begin-survey-btn" onclick="startSurvey()">
                    Begin Survey
                </button>
            </div>
        </div>
    </div>

    <!-- Survey Page -->
    <div id="surveyPage" class="survey-page">
        <div class="header">
            <div class="header-left">
                <div class="logo">🏥</div>
                <div>
                    <div class="title">Aperture</div>
                    <div class="subtitle">Patient Feedback Platform</div>
                </div>
            </div>
            
            <div class="header-right">
                <div class="progress-text">Question 5 of 12</div>
                <div class="progress-container">
                    <div class="progress-track">
                        <div class="progress-bar"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="main-content">
            <div class="carousel-container">
                <div class="carousel-track">
                    <!-- Previous Questions (Placeholder Cards) -->
                    <div class="survey-card far-prev"></div>
                    <div class="survey-card prev" onclick="previousQuestion()"></div>

                    <!-- Current Question -->
                    <div class="survey-card current"></div>

                    <!-- Next Questions (Placeholder Cards) -->
                    <div class="survey-card next" onclick="nextQuestion()"></div>
                    <div class="survey-card far-next"></div>
                </div>
            </div>

            <div class="nav-hint">
                Click on the side cards to navigate between questions
            </div>

            <div class="survey-navigation">
                <div class="nav-buttons">
                    <button class="nav-btn" id="prevBtn" onclick="previousQuestion()">
                        ← Previous
                    </button>
                    <button class="nav-btn" id="nextBtn" onclick="nextQuestion()">
                        Next →
                    </button>
                    <button class="nav-btn submit-btn" id="submitBtn" onclick="submitSurvey()" style="display: none;">
                        Complete Survey ✓
                    </button>
                </div>
                
                <div class="completion-indicator">
                    <div class="indicator-dot completed"></div>
                    <div class="indicator-dot completed"></div>
                    <div class="indicator-dot completed"></div>
                    <div class="indicator-dot completed"></div>
                    <div class="indicator-dot active"></div>
                    <div class="indicator-dot"></div>
                    <div class="indicator-dot"></div>
                    <div class="indicator-dot"></div>
                    <div class="indicator-dot"></div>
                    <div class="indicator-dot"></div>
                    <div class="indicator-dot"></div>
                    <div class="indicator-dot"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentQuestionIndex = 2; // 0-based index, currently showing question 5 (index 2)
        
        // Sample questions data (only used for current card)
        const questionsData = [
            {
                number: 1,
                text: "How long did you wait before seeing a healthcare provider?",
                options: ["Less than 15 minutes", "15-30 minutes", "30-60 minutes", "More than 1 hour"],
                selected: -1
            },
            {
                number: 2,
                text: "How would you rate the cleanliness of our facility?",
                options: ["Excellent", "Good", "Fair", "Poor"],
                selected: -1
            },
            {
                number: 3,
                text: "How would you rate your overall satisfaction with your recent visit?",
                options: ["Excellent - Exceeded my expectations", "Good - Met my expectations", "Fair - Somewhat satisfied", "Poor - Did not meet expectations"],
                selected: -1
            },
            {
                number: 4,
                text: "Would you recommend our healthcare facility to friends and family?",
                options: ["Definitely Yes", "Probably Yes", "Probably No", "Definitely No"],
                selected: -1
            },
            {
                number: 5,
                text: "How helpful was our staff in addressing your concerns?",
                options: ["Very Helpful", "Somewhat Helpful", "Not Very Helpful", "Not Helpful at All"],
                selected: -1
            },
            {
                number: 6,
                text: "How would you rate the communication from your healthcare provider?",
                options: ["Excellent", "Good", "Fair", "Poor"],
                selected: -1
            },
            {
                number: 7,
                text: "Was the appointment scheduling process convenient for you?",
                options: ["Very convenient", "Somewhat convenient", "Not very convenient", "Not convenient at all"],
                selected: -1
            },
            {
                number: 8,
                text: "How satisfied were you with the waiting room environment?",
                options: ["Very satisfied", "Somewhat satisfied", "Not very satisfied", "Not satisfied at all"],
                selected: -1
            },
            {
                number: 9,
                text: "Did you feel your privacy was respected during your visit?",
                options: ["Completely", "Mostly", "Somewhat", "Not at all"],
                selected: -1
            },
            {
                number: 10,
                text: "How clear were the instructions given to you about your treatment?",
                options: ["Very clear", "Somewhat clear", "Not very clear", "Not clear at all"],
                selected: -1
            },
            {
                number: 11,
                text: "How would you rate the billing and payment process?",
                options: ["Excellent", "Good", "Fair", "Poor"],
                selected: -1
            },
            {
                number: 12,
                text: "Overall, how likely are you to choose our facility again?",
                options: ["Very likely", "Somewhat likely", "Not very likely", "Not likely at all"],
                selected: -1
            }
        ];

        function startSurvey() {
            document.getElementById('landingPage').style.display = 'none';
            document.getElementById('surveyPage').style.display = 'flex';
            
            // Initialize survey
            currentQuestionIndex = 0;
            setTimeout(() => {
                initializeCards();
            }, 300);
        }

        function selectOption(element) {
            // Only allow selection on current card
            const currentCard = document.querySelector('.survey-card.current');
            if (!currentCard.contains(element)) return;
            
            // Remove selected class from all options in current card
            currentCard.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected');
            });
            
            // Add selected class to clicked option
            element.classList.add('selected');
            
            // Update the selected option in questionsData
            const optionIndex = Array.from(currentCard.querySelectorAll('.option')).indexOf(element);
            questionsData[currentQuestionIndex].selected = optionIndex;
            
            // Add selection animation
            element.style.transform = 'translateY(-2px) scale(1.02)';
            setTimeout(() => {
                element.style.transform = 'translateY(-2px)';
            }, 150);

            // Update navigation buttons
            updateNavigationButtons();
        }

        function nextQuestion() {
            if (currentQuestionIndex < questionsData.length - 1) {
                animateCarousel('next');
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                animateCarousel('prev');
            }
        }

        function animateCarousel(direction) {
            const cards = document.querySelectorAll('.survey-card');
            
            // Add transitioning class to prevent clicks during animation
            document.body.classList.add('transitioning');
            
            // Phase 1: Move cards to transition positions
            cards.forEach(card => {
                card.style.transition = 'all 0.6s cubic-bezier(0.25, 1, 0.5, 1)';
                
                if (direction === 'next') {
                    if (card.classList.contains('current')) {
                        card.style.transform = 'translateX(-320px) scale(0.85)';
                        card.style.opacity = '0.6';
                    } else if (card.classList.contains('next')) {
                        card.style.transform = 'translateX(0) scale(1)';
                        card.style.opacity = '1';
                    }
                } else {
                    if (card.classList.contains('current')) {
                        card.style.transform = 'translateX(320px) scale(0.85)';
                        card.style.opacity = '0.6';
                    } else if (card.classList.contains('prev')) {
                        card.style.transform = 'translateX(0) scale(1)';
                        card.style.opacity = '1';
                    }
                }
            });
            
            // Phase 2: Update content and classes after position transition
            setTimeout(() => {
                // Update current question index
                if (direction === 'next') {
                    currentQuestionIndex++;
                } else {
                    currentQuestionIndex--;
                }
                
                // Update all card classes and content
                updateAllCards();
                
                // Phase 3: Final position snap
                setTimeout(() => {
                    cards.forEach(card => {
                        card.style.transition = 'all 0.4s cubic-bezier(0.25, 1, 0.5, 1)';
                        card.style.transform = '';
                        card.style.opacity = '';
                    });
                    
                    // Update progress and remove transitioning class
                    setTimeout(() => {
                        updateProgress();
                        updateNavigationButtons();
                        document.body.classList.remove('transitioning');
                    }, 200);
                }, 100);
            }, 300);
        }

        function updateAllCards() {
            const cards = document.querySelectorAll('.survey-card');
            
            cards.forEach((card, index) => {
                // Clear all classes
                card.className = 'survey-card';
                
                // Determine position relative to current
                const relativeIndex = index - currentQuestionIndex;
                
                // Add appropriate classes
                if (relativeIndex < -1) {
                    card.classList.add('far-prev');
                    setPlaceholderContent(card, 'Previous Question', 'Question content hidden', '📋');
                } else if (relativeIndex === -1) {
                    card.classList.add('prev');
                    card.onclick = previousQuestion;
                    setPlaceholderContent(card, 'Previous Question', 'Click to view previous', '📝');
                } else if (relativeIndex === 0) {
                    card.classList.add('current');
                    card.onclick = null;
                    setCurrentContent(card);
                } else if (relativeIndex === 1) {
                    card.classList.add('next');
                    card.onclick = nextQuestion;
                    setPlaceholderContent(card, 'Next Question', 'Click to continue', '➡️');
                } else {
                    card.classList.add('far-next');
                    setPlaceholderContent(card, 'Upcoming Question', 'Question content hidden', '📊');
                }
            });
        }

        function setCurrentContent(card) {
            const questionData = questionsData[currentQuestionIndex];
            
            card.innerHTML = `
                <div class="question-number">Question ${questionData.number}</div>
                <div class="question-text">${questionData.text}</div>
                <div class="options-container ${questionData.options.length > 2 ? 'single-column' : ''}">
                    ${questionData.options.map((option, index) => `
                        <div class="option ${questionData.selected === index ? 'selected' : ''}" onclick="selectOption(this)">
                            <span class="option-icon"></span>
                            ${option}
                        </div>
                    `).join('')}
                </div>
            `;
        }

        function setPlaceholderContent(card, title, subtitle, icon) {
            const barsCount = Math.floor(Math.random() * 3) + 2; // 2-4 bars
            const bars = Array.from({length: barsCount}, (_, i) => 
                `<div class="placeholder-bar" style="width: ${60 + Math.random() * 40}%; animation-delay: ${i * 0.3}s;"></div>`
            ).join('');
            
            card.innerHTML = `
                <div class="placeholder-card">
                    <div class="placeholder-icon">${icon}</div>
                    <div class="placeholder-text">${title}</div>
                    <div class="placeholder-subtext">${subtitle}</div>
                    <div class="placeholder-bars">
                        ${bars}
                    </div>
                </div>
            `;
        }

        function updateProgress() {
            const progressBar = document.querySelector('.progress-bar');
            const progressText = document.querySelector('.progress-text');
            const currentQuestion = questionsData[currentQuestionIndex].number;
            
            const percentage = (currentQuestion / 12) * 100;
            progressBar.style.width = `${percentage}%`;
            progressText.textContent = `Question ${currentQuestion} of 12`;
            
            // Update indicator dots
            const dots = document.querySelectorAll('.indicator-dot');
            dots.forEach((dot, index) => {
                dot.className = 'indicator-dot';
                if (index < currentQuestion - 1) {
                    dot.classList.add('completed');
                } else if (index === currentQuestion - 1) {
                    dot.classList.add('active');
                }
            });
        }

        function updateNavigationButtons() {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const submitBtn = document.getElementById('submitBtn');
            
            // Update previous button
            prevBtn.disabled = currentQuestionIndex === 0;
            
            // Show/hide next/submit button
            if (currentQuestionIndex === questionsData.length - 1) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
                nextBtn.disabled = questionsData[currentQuestionIndex].selected === -1;
            }
        }

        function submitSurvey() {
            // Check if current question is answered
            if (questionsData[currentQuestionIndex].selected === -1) {
                return;
            }

            // Show completion message
            alert('Thank you for your feedback! Your responses have been submitted successfully.');
            
            // Reset to landing page (optional)
            setTimeout(() => {
                document.getElementById('surveyPage').style.display = 'none';
                document.getElementById('landingPage').style.display = 'flex';
                currentQuestionIndex = 0;
                
                // Reset all selections
                questionsData.forEach(q => q.selected = -1);
                questionsData[0].selected = 0; // First question pre-selected
                questionsData[1].selected = 0; // Second question pre-selected
                questionsData[2].selected = 1; // Third question pre-selected
            }, 2000);
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('surveyPage').style.display === 'flex') {
                if (e.key === 'ArrowLeft') {
                    previousQuestion();
                } else if (e.key === 'ArrowRight') {
                    if (currentQuestionIndex === questionsData.length - 1) {
                        submitSurvey();
                    } else {
                        nextQuestion();
                    }
                }
            }
        });

        // Initialize all cards on load
        function initializeCards() {
            updateAllCards();
            updateProgress();
            updateNavigationButtons();
        }

        // Initialize progress animation
        window.addEventListener('load', function() {
            const progressBar = document.querySelector('.progress-bar');
            if (progressBar) {
                progressBar.style.width = '0%';
            }
        });

        // Touch/swipe support for mobile
        let startX = 0;
        let startY = 0;

        document.addEventListener('touchstart', function(e) {
            startX = e.touches[0].clientX;
            startY = e.touches[0].clientY;
        });

        document.addEventListener('touchend', function(e) {
            if (document.getElementById('surveyPage').style.display === 'flex') {
                const endX = e.changedTouches[0].clientX;
                const endY = e.changedTouches[0].clientY;
                const diffX = startX - endX;
                const diffY = startY - endY;

                // Check if it's a horizontal swipe (more horizontal than vertical)
                if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > 50) {
                    if (diffX > 0) {
                        // Swipe left - next question
                        if (currentQuestionIndex === questionsData.length - 1) {
                            submitSurvey();
                        } else {
                            nextQuestion();
                        }
                    } else {
                        // Swipe right - previous question
                        previousQuestion();
                    }
                }
            }
        });

        // Indicator dot navigation
        document.addEventListener('click', function(e) {
            if (e.target.classList.contains('indicator-dot')) {
                const dots = Array.from(document.querySelectorAll('.indicator-dot'));
                const clickedIndex = dots.indexOf(e.target);
                
                if (clickedIndex !== currentQuestionIndex && clickedIndex < questionsData.length) {
                    currentQuestionIndex = clickedIndex;
                    updateAllCards();
                    updateProgress();
                    updateNavigationButtons();
                }
            }
        });
    </script>
</body>
</html>